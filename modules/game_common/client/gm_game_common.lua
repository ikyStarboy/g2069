---
--- Generated by PluginCreator
--- game_common gm
--- DateTime:2023-02-24
---

local path = Root.Instance():getGamePath():gsub("\\", "/") .. "lua/gm_client.lua"
local file, err = io.open(path, "r")
local GMItem
if file then
    GMItem = require("gm_client")
    file:close()
end
if not GMItem then
    GMItem = GM:createGMItem()
end

GM.setItemsShowPriorityMap("g2069", 9999)
GM.setItemsShowPriorityMap("系统", 9998)
GM.setItemsShowPriorityMap("显示", 9997)
GM.setItemsShowPriorityMap("角色通用", 9996)
GM.setItemsShowPriorityMap("副本", 9995)
GM.setItemsShowPriorityMap("任务", 9994)

GMItem["g2069/通用提示"] = function()
    Me:showGameTopTips("这是个提示" .. os.time())
end

GMItem["g2069/Reward word"] = function()
    local rewardRexp = math.random(1, 100)
    local rewardGold = math.random(1, 100)
    Me:showKillReward(rewardRexp, rewardGold)
end

--GMItem["g2069/flash_rainbow"] = function()
--    Me:playColorAnimation("flash_rainbow")
--end

GMItem["g2069/Add skill buff"] = GM:inputStr(function(self, value)
    if not World.cfg.openGM then
        return
    end
    local packet = {
        pid = "RequestGMUpdateSkillBuff",
        buffId = tonumber(value),
        isAdd = true
    }
    Me:sendPacket(packet)
end)

GMItem["g2069/Remove skill buff"] = GM:inputStr(function(self, value)
    if not World.cfg.openGM then
        return
    end
    local packet = {
        pid = "RequestGMUpdateSkillBuff",
        buffId = tonumber(value),
        isAdd = false
    }
    Me:sendPacket(packet)
end)

--GMItem["g2069/PK mode"] = GM:inputStr(function(self, value)
--    if not World.cfg.openGM then
--        return
--    end
--    Me:setSafeModeType(tonumber(value))
--end)
--
--GMItem["g2069/Image quality low"] = function()
--    Blockman.instance.gameSettings:setCurQualityLevel(0)
--end
--GMItem["g2069/Image quality medium"] = function()
--    Blockman.instance.gameSettings:setCurQualityLevel(1)
--end
--GMItem["g2069/Image quality high"] = function()
--    Blockman.instance.gameSettings:setCurQualityLevel(2)
--end
