---
--- Generated by PluginCreator
--- new_limited_time_activity mainLua
--- DateTime:2023-04-17
---
if not LimitedTimeActivityGameMgr then
    Lib.declare("LimitedTimeActivityGameMgr", {})
end

require "common.entity_new_limited_time_activity"
require "common.event_new_limited_time_activity"
require "common.define_new_limited_time_activity"
require "common.manager.limited_time_activity_game_mgr"
if World.isClient then
    require "client.player.player_new_limited_time_activity"
    require "client.player.packet_new_limited_time_activity"
    require "client.entity.entity_new_limited_time_activity"
    require "client.entity.entity_value_func_new_limited_time_activity"
    require "client.gm_new_limited_time_activity"
else
    if not LimitedTimeActivityMgr then
        Lib.declare("LimitedTimeActivityMgr", {})
    end
    
    require "server.player.player_new_limited_time_activity"
    require "server.player.packet_new_limited_time_activity"
    require "server.entity.entity_new_limited_time_activity"
    require "server.gm_new_limited_time_activity"
end

local handlers = {}

if World.isClient then
    ---@type LimitTimeClientHelper
    local LimitTimeClientHelper = T(Lib, "LimitTimeClientHelper")

    function handlers.openLimitTimeCombinedWnd()
        if not LimitTimeClientHelper:checkActiveIsOpen(Define.LIMITED_TIME_ACTIVITY_TYPE.COMBINATION_GIFT) then
            return
        end
        UI:openWindow("UI/new_limited_time_activity/gui/win_combination_gift")
        GameAnalytics.NewDesign("limited_giftpack_click", {})
    end

    function handlers.openLimitTimeGoldenWheelWnd()
        if not LimitTimeClientHelper:checkActiveIsOpen(Define.LIMITED_TIME_ACTIVITY_TYPE.LIMITED_TIME_GOLD_WHEEL) then
            return
        end
        UI:openWindow("UI/new_limited_time_activity/gui/win_golden_turntable")
        GameAnalytics.NewDesign("turntable_click", {})
    end
end

--function handlers.openXXXWnd()
	--TODO
--end

return function(name, ...)
	if type(handlers[name]) ~= "function" then
		return
	end
	return handlers[name](...)
end
