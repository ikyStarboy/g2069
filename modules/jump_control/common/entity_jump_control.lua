---
--- Generated by PluginCreator
--- jump_control entity_common
--- DateTime:2023-03-03
---

local ValueDef = T(Entity, "ValueDef")
-- key				            = {isCpp,	client,	toSelf,	toOther,	init,	               saveDB}
--ValueDef.xxx 					= {false,   false,  true,   false,      0,                      true}
local Entity = Entity

ValueDef.jumpCount	= {false,	true,	false,	false,      999999,                                   false}--剩余跳跃数
ValueDef.maxJumpCount={false,	false,	true,	false,      999999,		                            false}--最大跳跃数

---获得跳跃次数
function Entity:getJumpCount()
    return self:getValue("jumpCount") or 1
end

---减少跳跃次数
function Entity:decJumpCount()
    local jumpCount = self:getValue("jumpCount")
    if jumpCount > 0 then
        self:setValue("jumpCount", jumpCount - 1, true)
    end
end

---获得最大跳跃次数
function Entity:getMaxJumpCount()
    return self:getValue("maxJumpCount")
end
function Entity:setMaxJumpCount(val)
    self:setValue("maxJumpCount", val)
end

function Entity:resetJumpCount()
    self:setValue("jumpCount", self:getMaxJumpCount(), true)
end